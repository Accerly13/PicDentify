<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Student Dashboard</title>
	<!-- Bootstrap CSS -->
	<!-- CSS files -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

	<!-- JavaScript files -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNS3vx" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<!-- Custom CSS -->
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<!-- Navigation bar -->
    
    <nav class="navbar navbar-expand-lg navbar-light bg-light justify-content-start">
        <a class="navbar-brand" href="#">Teacher's Name</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="/logout_view"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </li>
          </ul>
        </div>
      </nav> 
      <div class="container">
        <div class="row">
          {% for item in topics %}
          <div class="col-sm-4 mb-4">
            <div class="box">
              <h2 class="mt-2">{{item.topic_name}}</h2>
              <p>Choose your level of difficulty:</p>
              <div class="row">
                <div class="col-4">
                  <div class="level easy">
                    <a id="easy{{item.topic_id}}">Easy</a>
                    <form id="ez{{item.topic_id}}"> 
                      {% csrf_token %}
                      <input hidden value="easy" name="easy{{item.topic_id}}">
                    </form>
                  </div>
                </div>
                <div class="col-4">
                  <div class="level medium">
                    <a>Medium</a>
                    <input hidden value="medium" name="medium{{item.topic_id}}">
                  </div>
                </div>
                <div class="col-4">
                  <div class="level hard">
                    <a>Difficult</a>
                    <input hidden value="difficult" name="difficult{{item.topic_id}}">
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
      
      
</body>
</html>

<style>
html, body {
  height: 100%;
}

.container {
  display: flex;
  flex-direction: column;
}

.row {
  margin-top: 20px;
}

.col-sm-4 {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

h1, h2 {
  margin: 0;
}

ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
}

ul li {
  margin: 10px;
}

ul li a {
  display: inline-block;
  padding: 10px 20px;
  border-radius: 5px;
  background-color: #007bff;
  color: #fff;
  text-decoration: none;
  transition: background-color 0.3s ease;
  background-image: linear-gradient(to bottom, #007bff, #0056b3);
}

ul li a:hover {
  background-color: #0056b3;
  background-image: none;
}

.box {
  background-color: #F4F4F4;
  border-radius: 10px;
  box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.2);
  padding: 30px;
  text-align: center;
  transition: transform 0.3s ease-in-out;
}

.box:hover {
  transform: scale(1.05);
  cursor: pointer;
}

h2 {
  font-size: 3rem;
  text-transform: uppercase;
  color: #333;
  margin-bottom: 30px;
  position: relative;
  display: inline-block;
}

h2::before {
  content: "";
  display: block;
  width: 100%;
  height: 10px;
  background-color: #FFC000;
  position: absolute;
  bottom: -10px;
  left: 0;
  z-index: -1;
  border-radius: 10px;
  transition: transform 0.3s ease-in-out;
}

h2:hover::before {
  transform: scale(1.1);
}

h2 span {
  color: #FFF;
  font-size: 2rem;
  font-weight: bold;
  position: relative;
  z-index: 1;
}

h2 span::before {
  content: "";
  display: block;
  width: 100%;
  height: 10px;
  background-color: #C00000;
  position: absolute;
  bottom: -5px;
  left: 0;
  z-index: -1;
  border-radius: 10px;
  transition: transform 0.3s ease-in-out;
}

h2 span:hover::before {
  transform: scale(1.1);
}


.box p {
  margin-bottom: 20px;
}

.box ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.box li {
  display: inline-block;
  margin-right: 10px;
}

.box li:last-child {
  margin-right: 0;
}

.box a {
  padding: 10px 15px;
  border-radius: 5px;
  background-color: #007bff;
  color: #fff;
  text-decoration: none;
  transition: background-color 0.3s ease;
  background-image: linear-gradient(to bottom, #007bff, #0056b3);
}

.box a:hover {
  background-color: #0056b3;
  background-image: none;
}

.box .easy a {
  border: 2px solid #5cb85c;
}

.box .medium a {
  border: 2px solid #f0ad4e;
}

.box .hard a {
  border: 2px solid #d9534f;
}


.difficulty {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}

.difficulty .level {
  margin: 0 20px;
}

.difficulty .level a {
  display: inline-block;
  padding: 10px 20px;
  border-radius: 5px;
  background-color: #007bff;
  color: #fff;
  text-decoration: none;
  transition: background-color 0.3s ease;
  background-image: linear-gradient(to bottom, #007bff, #0056b3);
}

.difficulty .level a:hover {
  background-color: #0056b3;
  background-image: none;
}

.difficulty .level .easy {
  border-color: #5cb85c;
}

.difficulty .level .medium {
  border-color: #f0ad4e;
}

.difficulty .level .hard {
  border-color: #d9534f;
}

.difficulty .level .easy a {
  border: 2px solid;
}

.difficulty .level .medium a {
  border: 2px solid;
}

.difficulty .level .hard a {
  border: 2px solid;
}

.navbar {
  background-color: #f8f9fa;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
  font-family: 'Open Sans', sans-serif;
}

.navbar-brand {
  font-size: 24px;
  font-weight: bold;
  color: #007bff;
  text-transform: uppercase;
}

.nav-link {
  font-size: 18px;
  color: #6c757d;
}

.navbar-nav .nav-link {
  padding: 10px 15px;
}

.navbar-nav .nav-link:hover {
  color: #007bff;
}

.navbar-toggler {
  border: none;
  background-color: transparent;
}

.navbar-toggler:focus {
  outline: none;
}


</style>

<script>
   document.addEventListener("DOMContentLoaded", function() {
      document.querySelectorAll("[id^='easy']").forEach(function(el) {
          // Add an event listener to each element
          el.addEventListener("click", function(event) {
            stringReplace = el.id.replace("easy", "")
            event.preventDefault();
            var myForm = document.querySelector("#ez"+stringReplace);
            var formData = new FormData(myForm);
            formData.append('difficulty', 'easy');
            formData.append('topic_id', stringReplace);
            fetch('/studentdashboard/', {
              method: 'POST',
              body: formData
            }).then(response => response.json())
            .then(data => {
              document.cookie = data.questions
              window.location.href = window.location.origin + "/studentdashboard/studentactivity"
             
            })
        });
      })
   })
	
</script>